(function(t){function e(e){for(var n,a,u=e[0],c=e[1],s=e[2],p=0,d=[];p<u.length;p++)a=u[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(d.length)d.shift()();return o.push.apply(o,s||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,u=1;u<r.length;u++){var c=r[u];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},i={app:0},o=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/<rounded_clip_path>/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=e,u=u.slice();for(var s=0;s<u.length;s++)e(u[s]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"153e":function(t,e,r){},"40bd":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Field",t._b({},"Field",t.field_props,!1),t._l(t.points,(function(e,n){return r("Point",t._b({key:n,on:{set_point_coords:t.SET_POINT_COORDS}},"Point",Object.assign({},e,{idx:n}),!1))})),1),r("Sidebar",t._b({on:{set_field_width:t.SET_FIELD_WIDTH,set_field_height:t.SET_FIELD_HEIGHT,set_corner_radius:t.SET_CORNER_RADIUS,set_points_quantity:t.SET_POINTS_QUANTITY}},"Sidebar",t.sidebar_props,!1)),t.is_dev?r("Debug"):t._e(),r("h3",[t._v(t._s(t.clip_path))])],1)},o=[],a=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("2fa7")),u=r("2f62"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"field",staticClass:"field",style:t.field_style},[t._t("default"),r("div",{staticClass:"clip_path",style:t.clip_path_style})],2)},s=[],l=(r("a9e3"),{name:"field",props:{field_width:[Number,String],field_height:[Number,String],field_image:String,clip_path:String},computed:{field_style:function(t){var e=t.field_width,r=t.field_height;return{width:"".concat(e,"px"),height:"".concat(r,"px")}},clip_path_style:function(t){var e=t.field_image,r=t.clip_path;return{backgroundImage:"url(".concat(e,")"),clipPath:"polygon(".concat(r,")")}}}}),p=l,d=(r("b6c7"),r("2877")),f=Object(d["a"])(p,c,s,!1,null,"6f8b321c",null),_=f.exports,h=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"point",staticClass:"point",style:t.point_style,attrs:{draggable:"true"},on:{drag:t.drag_handler}})},y=[],b=["#001f3f","#0074D9","#7FDBFF","#39CCCC","#3D9970","#2ECC40","#01FF70","#FFDC00","#FF851B","#FF4136","#85144b","#F012BE","#B10DC9"],m=r("284c");function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(r,!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var O=function(t,e,r){var n=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),i=r/n;return{x:t.x+(e.x-t.x)*i,y:t.y+(e.y-t.y)*i}},x=function(t,e,r){var n=t.x-e.x,i=r.x-e.x,o=t.y-e.y,a=r.y-e.y,u=Math.sqrt(Math.pow(n,2)+Math.pow(o,2)),c=Math.sqrt(Math.pow(i,2)+Math.pow(a,2)),s=Math.acos((n*i+o*a)/(u*c));return s},w=function(t,e,r,n){var i=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));if(i>r+n||i<Math.abs(r-n))return{};if(Math.abs(i-(r-n))<1e-6){var o=(t.x+e.x)/2,a=(t.y+e.y)/2;return{x:o,y:a}}var u=(Math.pow(n,2)-Math.pow(r,2)+Math.pow(i,2))/(2*i),c=i-u,s=Math.sqrt(Math.pow(n,2)-Math.pow(u,2)),l=t.x+(e.x-t.x)/(i/c),p=t.y+(e.y-t.y)/(i/c),d=l-(p-e.y)*s/u,f=p+(l-e.x)*s/u;return{x:d,y:f}},j=function(t,e,r){var n={x:t.x-e.x,y:t.y-e.y},i=n.x*Math.cos(r)-n.y*Math.sin(r),o=n.x*Math.sin(r)+n.y*Math.cos(r);return{x:i+e.x,y:o+e.y}},S=function(t,e,r){var n=t.y-e.y,i=e.x-t.x,o=t.x*e.y-e.x*t.y,a=1/Math.sqrt(Math.pow(n,2)+Math.pow(i,2)),u=a*n,c=a*i,s=a*o+r;return{A:u,B:c,C:s}},P=function(t,e,r,n){var i=S(t,e,n),o=i.A,a=i.B,u=i.C,c=S(e,r,n),s=c.A,l=c.B,p=c.C,d=(-p*a+u*l)/(-l*o+a*s),f=(-o*d-u)/a;return{x:d,y:f}},E=function(t,e,r){var n=S(t,e,0),i=n.A,o=n.B,a=n.C,u=(-i*o*r.y+Math.pow(o,2)*r.x-i*a)/(Math.pow(i,2)+Math.pow(o,2)),c=(-i*u-a)/o;return{x:u,y:c}},D=function(t,e,r,n,i){var o=[],a=x(t,e,r);if(a===Math.PI/2){var u=O(e,t,n),c=O(e,r,n),s=w(u,c,n,n);o.push(g({},u,{title:"A"}));for(var l=1;l<i;l++){var p=j(c,s,a/i*l);o.push(g({},p,{title:l}))}o.push(g({},c,{title:"B"}))}else{var d=P(t,e,r,-n),f=E(t,e,d),_=E(e,r,d),h=x(f,d,_);o.push(g({},f,{title:"A"}));for(var y=1;y<i;y++){var b=j(f,d,h/i*y);o.push(g({},b,{title:y}))}o.push(g({},_,{title:"B"}))}return o},M=function(t,e,r,n){var i=t[e],o=e>=t.length-1?t[0]:t[e+1],a={};return a=e===t.length-2?t[0]:e>=t.length-1?t[1]:t[e+2],D(i,o,a,r,n)},T=function(t,e,r){for(var n=[],i=0;i<t.length;i++)n.push.apply(n,Object(m["a"])(M(t,i,e,r)));return n},N={color:b,make_points:T,round_corner:M},C={name:"point",props:{idx:Number,x:[Number,String],y:[Number,String]},data:function(){return{parent_rect:{}}},computed:{point_style:function(t){var e=t.x,r=t.y,n=t.idx;return{backgroundColor:N.color[n],left:"".concat(e,"px"),top:"".concat(r,"px")}}},mounted:function(){this.parent_rect=this.$refs.point.parentNode.getBoundingClientRect()},methods:{drag_handler:function(t){var e=t.clientX,r=t.clientY;e&&r&&this.$emit("set_point_coords",{x:e,y:r,idx:this.idx})}}},I=C,q=(r("fc71"),Object(d["a"])(I,h,y,!1,null,"56f05a86",null)),F=q.exports,$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("span",[t._v("Dimensions:")]),r("br"),r("br"),t._v(" width: "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.field_width_model,expression:"field_width_model",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.field_width_model},on:{input:function(e){e.target.composing||(t.field_width_model=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("px height: "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.field_height_model,expression:"field_height_model",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.field_height_model},on:{input:function(e){e.target.composing||(t.field_height_model=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("px "),r("br"),r("br"),t._v(" radius: "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.corner_radius_model,expression:"corner_radius_model",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.corner_radius_model},on:{input:function(e){e.target.composing||(t.corner_radius_model=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),t._v("px point's quantity: "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.points_quantity_model,expression:"points_quantity_model",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:t.points_quantity_model},on:{input:function(e){e.target.composing||(t.points_quantity_model=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})])},k=[],R={name:"sidebar",props:{field_width:[String,Number],field_height:[String,Number],corner_radius:[String,Number],points_quantity:[String,Number]},computed:{field_width_model:{get:function(t){var e=t.field_width;return e},set:function(t){this.$emit("set_field_width",t)}},field_height_model:{get:function(t){var e=t.field_height;return e},set:function(t){this.$emit("set_field_height",t)}},corner_radius_model:{get:function(t){var e=t.corner_radius;return e},set:function(t){this.$emit("set_corner_radius",t)}},points_quantity_model:{get:function(t){var e=t.points_quantity;return e},set:function(t){this.$emit("set_points_quantity",t)}}}},A=R,B=Object(d["a"])(A,$,k,!1,null,null,null),U=B.exports,H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"test"},[t._v(" Debug: i: "),r("input",{directives:[{name:"model",rawName:"v-model.number",value:t.i,expression:"i",modifiers:{number:!0}}],attrs:{max:t.points.length-1,min:"0",type:"number"},domProps:{value:t.i},on:{input:function(e){e.target.composing||(t.i=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),r("div",{staticClass:"field"},t._l(t.dots,(function(e){return r("div",{key:e.title,staticClass:"dot",style:t.dot_style(e)},[t._v(" "+t._s(e.title)+" ")])})),0)])},L=[];function Y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function G(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Y(r,!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var Q={name:"debug",data:function(){return{i:0}},computed:G({},Object(u["d"])(["points","corner_radius","points_quantity"]),{dots:function(t){var e=t.points,r=t.i,n=t.corner_radius,i=t.points_quantity;return N.round_corner(e,r,n,i)}}),methods:{dot_style:function(t){var e=t.x,r=t.y;return{left:"".concat(e,"px"),top:"".concat(r,"px")}}}},W=Q,J=(r("e63c"),Object(d["a"])(W,H,L,!1,null,"4fdc76a5",null)),X=J.exports;function z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function K(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?z(r,!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var V={name:"app",components:{Field:_,Point:F,Sidebar:U,Debug:X},computed:K({},Object(u["d"])(["field_width","field_height","field_image","corner_radius","points_quantity","points"]),{},Object(u["b"])(["clip_path"]),{field_props:function(t){var e=t.field_width,r=t.field_height,n=t.field_image,i=t.clip_path;return{field_width:e,field_height:r,field_image:n,clip_path:i}},sidebar_props:function(t){var e=t.field_props,r=t.corner_radius,n=t.points_quantity;return K({},e,{corner_radius:r,points_quantity:n})},is_dev:function(){return!1}}),methods:K({},Object(u["c"])(["SET_FIELD_WIDTH","SET_FIELD_HEIGHT","SET_CORNER_RADIUS","SET_POINTS_QUANTITY","SET_POINT_COORDS"]))},Z=V,tt=(r("80de"),Object(d["a"])(Z,i,o,!1,null,"a31cecac",null)),et=tt.exports;r("99af"),r("13d5"),r("fb6a"),r("b680");n["a"].use(u["a"]);var rt=new u["a"].Store({state:{field_x:10,field_y:10,field_width:500,field_height:300,corner_radius:30,points_quantity:7,field_image:"https://gratisography.com/wp-content/uploads/2019/11/gratisography-laptop-colorful-keys-900x600.jpg",points:[{x:112,y:49},{x:373,y:50},{x:351,y:197},{x:134,y:238}]},getters:{clip_path:function(t){var e=t.field_x,r=t.field_y,n=t.field_width,i=t.field_height,o=t.points,a=t.corner_radius,u=t.points_quantity,c=N.make_points(o,a,u),s=c.reduce((function(t,o){var a=(o.x-e)/n*100,u=(o.y-r)/i*100;return"".concat(t," ").concat(a.toFixed(2),"% ").concat(u.toFixed(2),"%,")}),"");return s.slice(0,-1)}},mutations:{SET_FIELD_WIDTH:function(t,e){t.field_width=e},SET_FIELD_HEIGHT:function(t,e){t.field_height=e},SET_CORNER_RADIUS:function(t,e){t.corner_radius=e},SET_POINTS_QUANTITY:function(t,e){t.points_quantity=e},SET_POINT_COORDS:function(t,e){var r=t.field_x,n=t.field_y,i=t.field_width,o=t.field_height,a=e.x,u=e.y,c=e.idx;a<r&&(e.x=r),a>r+i&&(e.x=r+i),u<n&&(e.y=n),u>n+o&&(e.y=n+o),Object.assign(t.points[c],e)}},actions:{},modules:{}});n["a"].config.productionTip=!1,new n["a"]({store:rt,render:function(t){return t(et)}}).$mount("#app")},"80de":function(t,e,r){"use strict";var n=r("c7ed"),i=r.n(n);i.a},8375:function(t,e,r){},b6c7:function(t,e,r){"use strict";var n=r("40bd"),i=r.n(n);i.a},c7ed:function(t,e,r){},e63c:function(t,e,r){"use strict";var n=r("8375"),i=r.n(n);i.a},fc71:function(t,e,r){"use strict";var n=r("153e"),i=r.n(n);i.a}});
//# sourceMappingURL=app.058a24a6.js.map